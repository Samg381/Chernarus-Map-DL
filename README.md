# Chernarus+ Map Downloader
Downloads the latest Chernarus+ Map from iZurvive. Choose between resolution incriments from 1-8.

![Animation](https://user-images.githubusercontent.com/3127698/208580587-369eb715-0002-4da2-9047-1493bee4ebf7.gif)

# Prerequisites

- GNU/Linux (Tested on Debian 12, CentOS 7, WSL Debian 12)
- `aria2c`
- `ImageMagick`
- `g++`

# Usage

`./getmap [Map] [Res] [Type] [Version]`

[Map] Map name: chernarus, livonia (case sensitive - all lowercase)

[Res]  Map resolution: 1-8

[Type] Map image type: sat (satellite), top (topographic)

[Version] Desired DayZ map version (must be exact, e.g. 1.19.0)

--

_Example:_ `./getmap.sh chernarus 6 sat 1.25.0`

_Example:_ `./getmap.sh livonia 4 sat 1.19.0`

# Warning

Filesize grows exponentially as [Res] increases. The highest resolution setting, 8, will generate a TWO GIGAPIXEL image.

This tool is best used on a powerful system with a fast internet connection. **An NVMe SSD is strongly recommended.**

# Notes

For usage in external rendering applications, such as those utilizing `stb_image.h`, downsizing the image may be required.

Utilities like `stb_image.h` are 32-bit appliations. 32-bit is limited to addressing 2^32 bytes, often only 2^31 or 2^30 bytes addressable in a 32-bit image.
An image of 65536 x 65536 such as the one generated by Resolution 8 is an image of 2^16 * 2^16 pixels, or 2^32 pixels. Each pixel is 3 bytes, so roughly 3*2^32. 
Relative to the (say) 2^30 bytes available in user space, that's 12*2^30, or 12 times larger than avaliable memory in a 32-bit program.

Though the exact resolution cap of `stb_image.h` for these map images depends on multiple factors, I have found a safe number to be ~23000x23000.

So, the best use case would be to download the largest image your system can tolerate (i.e resolution 7/8) and then downsample the image.

As `ImageMagick` is already installed, you could use something like:

`convert DayZ_1.25.0_chernarus_map_128x128_top.jpg -resize 23000x23000 23000x23000.jpg`

